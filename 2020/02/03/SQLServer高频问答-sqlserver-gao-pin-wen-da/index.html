<!DOCTYPE html><html lang="zh-Hans" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>SQLServer高频问答 | ZZONN</title><meta name="author" content="LiPan"><meta name="copyright" content="LiPan"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="一、数据库基础知识篇（SQLServer&#x2F;MySQL通用）1.说说主键、外键、超键、候选键超键：在关系中能唯一标识元组的属性集称为关系模式的超键。一个属性可以为作为一个超键，多个属 性组合在一起也可以作为一个超键。超键包含候选键和主键。 候选键：是最小超键，即没有冗余元素的超键。 主键：数据库表中对储存数据对象予以唯一和完整标识的数据列或属性的组合。一个数据列只能有一个 主键，且主键的取">
<meta property="og:type" content="article">
<meta property="og:title" content="SQLServer高频问答">
<meta property="og:url" content="http://www.zzonn.com/2020/02/03/SQLServer%E9%AB%98%E9%A2%91%E9%97%AE%E7%AD%94-sqlserver-gao-pin-wen-da/index.html">
<meta property="og:site_name" content="ZZONN">
<meta property="og:description" content="一、数据库基础知识篇（SQLServer&#x2F;MySQL通用）1.说说主键、外键、超键、候选键超键：在关系中能唯一标识元组的属性集称为关系模式的超键。一个属性可以为作为一个超键，多个属 性组合在一起也可以作为一个超键。超键包含候选键和主键。 候选键：是最小超键，即没有冗余元素的超键。 主键：数据库表中对储存数据对象予以唯一和完整标识的数据列或属性的组合。一个数据列只能有一个 主键，且主键的取">
<meta property="og:locale">
<meta property="og:image" content="https://cdn.zzonn.com/blog/avatar.jpeg">
<meta property="article:published_time" content="2020-02-03T07:53:02.000Z">
<meta property="article:modified_time" content="2021-03-12T07:53:57.236Z">
<meta property="article:author" content="LiPan">
<meta property="article:tag" content="sqlserver">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.zzonn.com/blog/avatar.jpeg"><link rel="shortcut icon" href="https://cdn.zzonn.com/blog/favicon.png"><link rel="canonical" href="http://www.zzonn.com/2020/02/03/SQLServer%E9%AB%98%E9%A2%91%E9%97%AE%E7%AD%94-sqlserver-gao-pin-wen-da/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
  google_ad_client: 'pub-5051935968580926',
  enable_page_level_ads: 'true'
});</script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6bc98ab84fda4133d43c6672428688a8";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'SQLServer高频问答',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-03-12 15:53:57'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://cdn.zzonn.com/blog/avatar.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">32</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">20</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">9</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.zzonn.com/blog/index_img2.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="ZZONN"><span class="site-name">ZZONN</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">SQLServer高频问答</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2020-02-03T07:53:02.000Z" title="Created 2020-02-03 15:53:02">2020-02-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2021-03-12T07:53:57.236Z" title="Updated 2021-03-12 15:53:57">2021-03-12</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/SQL/">SQL</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">10.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time:</span><span>33min</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="SQLServer高频问答"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="一、数据库基础知识篇（SQLServer-x2F-MySQL通用）"><a href="#一、数据库基础知识篇（SQLServer-x2F-MySQL通用）" class="headerlink" title="一、数据库基础知识篇（SQLServer&#x2F;MySQL通用）"></a>一、数据库基础知识篇（SQLServer&#x2F;MySQL通用）</h2><h3 id="1-说说主键、外键、超键、候选键"><a href="#1-说说主键、外键、超键、候选键" class="headerlink" title="1.说说主键、外键、超键、候选键"></a>1.说说主键、外键、超键、候选键</h3><p>超键：在关系中能唯一标识元组的属性集称为关系模式的超键。一个属性可以为作为一个超键，多个属 性组合在一起也可以作为一个超键。超键包含候选键和主键。 候选键：是最小超键，即没有冗余元素的超键。 主键：数据库表中对储存数据对象予以唯一和完整标识的数据列或属性的组合。一个数据列只能有一个 主键，且主键的取值不能缺失，即不能为空值（Null）。 外键：在一个表中存在的另一个表的主键称此表的外键。</p>
<h3 id="2-为什么用自增列作为主键？"><a href="#2-为什么用自增列作为主键？" class="headerlink" title="2.为什么用自增列作为主键？"></a>2.为什么用自增列作为主键？</h3><p>如果我们定义了主键(PRIMARY KEY)，那么InnoDB会选择主键作为聚集索引、 如果没有显式定义主键，则InnoDB会选择第一个不包含有NULL值的唯一索引作为主键索引、 如果也没有这样的唯一索引，则InnoDB会选择内置6字节长的ROWID作为隐含的聚集索引(ROWID随着 行记录的写入而主键递增，这个ROWID不像ORACLE的ROWID那样可引用，是隐含的)。 数据记录本身被存于主索引（一颗B+Tree）的叶子节点上。这就要求同一个叶子节点内（大小为一个内 存页或磁盘页）的各条数据记录按主键顺序存放，因此每当有一条新的记录插入时，MySQL会根据其主 键将其插入适当的节点和位置，如果页面达到装载因子（InnoDB默认为15&#x2F;16），则开辟一个新的页<br>（节点） 如果表使用自增主键，那么每次插入新的记录，记录就会顺序添加到当前索引节点的后续位置，当一页 写满，就会自动开辟一个新的页 如果使用非自增主键（如果身份证号或学号等），由于每次插入主键的值近似于随机，因此每次新记录 都要被插到现有索引页的中间某个位置，此时MySQL不得不为了将新记录插到合适位置而移动数据，甚 至目标页面可能已经被回写到磁盘上而从缓存中清掉，此时又要从磁盘上读回来，这增加了很多开销， 同时频繁的移动、分页操作造成了大量的碎片，得到了不够紧凑的索引结构，后续不得不通过 OPTIMIZE TABLE来重建表并优化填充页面。</p>
<h3 id="3-触发器的作用是什么？"><a href="#3-触发器的作用是什么？" class="headerlink" title="3.触发器的作用是什么？"></a>3.触发器的作用是什么？</h3><p>触发器是一种特殊的存储过程，主要是通过事件来触发而被执行的。它可以强化约束，来维护数据的完 整性和一致性，可以跟踪数据库内的操作从而不允许未经许可的更新和变化。可以联级运算。如，某表 上的触发器上包含对另一个表的数据操作，而该操作又会导致该表触发器被触发。</p>
<h3 id="4-什么是存储过程？用什么来调用？"><a href="#4-什么是存储过程？用什么来调用？" class="headerlink" title="4.什么是存储过程？用什么来调用？"></a>4.什么是存储过程？用什么来调用？</h3><p>存储过程是一个预编译的SQL语句，优点是允许模块化的设计，就是说只需创建一次，以后在该程序中 就可以调用多次。如果某次操作需要执行多次SQL，使用存储过程比单纯SQL语句执行要快。<br>调用：<br>1）可以用一个命令对象来调用存储过程。<br>2）可以供外部程序调用，比如：java程序。</p>
<h3 id="5-说说存储过程的优缺点？"><a href="#5-说说存储过程的优缺点？" class="headerlink" title="5.说说存储过程的优缺点？"></a>5.说说存储过程的优缺点？</h3><p>优点：<br>1）存储过程是预编译过的，执行效率高。<br>2）存储过程的代码直接存放于数据库中，通过存储过程名直接调用，减少网络通讯。<br>3）安全性高，执行存储过程需要有一定权限的用户。<br>4）存储过程可以重复使用，可减少数据库开发人员的工作量。<br>缺点：<br>移植性差</p>
<h3 id="6-说说存储过程与函数的区别"><a href="#6-说说存储过程与函数的区别" class="headerlink" title="6.说说存储过程与函数的区别"></a>6.说说存储过程与函数的区别</h3><p>（1）存储过程用户在数据库中完成特定操作或者任务（如插入，删除等），函数用于返回特定的数 据。<br>（2）存储过程声明用procedure，函数用function。<br>（3）存储过程不需要返回类型，函数必须要返回类型。<br>（4）存储过程可作为独立的pl-sql执行，函数不能作为独立的plsql执行，必须作为表达式的一部分。<br>（5）存储过程只能通过out和in&#x2F;out来返回值，函数除了可以使用out，in&#x2F;out以外，还可以使用return 返回值。<br>（6）sql语句（DML或SELECT)中不可用调用存储过程，而函数可以。</p>
<h3 id="7-什么叫视图？游标是什么？"><a href="#7-什么叫视图？游标是什么？" class="headerlink" title="7.什么叫视图？游标是什么？"></a>7.什么叫视图？游标是什么？</h3><p>视图： 是一种虚拟的表，具有和物理表相同的功能。可以对视图进行增，改，查，操作，试图通常是有一个表 或者多个表的行或列的子集。对视图的修改会影响基本表。它使得我们获取数据更容易，相比多表查 询。<br>游标： 是对查询出来的结果集作为一个单元来有效的处理。游标可以定在该单元中的特定行，从结果集的当前 行检索一行或多行。可以对结果集当前行做修改。一般不使用游标，但是需要逐条处理数据的时候，游 标显得十分重要。</p>
<h3 id="8-视图的优缺点有哪些？"><a href="#8-视图的优缺点有哪些？" class="headerlink" title="8.视图的优缺点有哪些？"></a>8.视图的优缺点有哪些？</h3><p>优点：<br>1对数据库的访问，因为视图可以有选择性的选取数据库里的一部分。<br>2)用户通过简单的查询可以从复杂查询中得到结果。<br>3)维护数据的独立性，试图可从多个表检索数据。<br>4)对于相同的数据可产生不同的视图。 缺点：<br>性能：查询视图时，必须把视图的查询转化成对基本表的查询，如果这个视图是由一个复杂的多表查询 所定义，那么，那么就无法更改数据</p>
<h3 id="9-说说drop、truncate、-delete区别"><a href="#9-说说drop、truncate、-delete区别" class="headerlink" title="9.说说drop、truncate、 delete区别"></a>9.说说drop、truncate、 delete区别</h3><p>最基本：</p>
<ol>
<li>drop直接删掉表。</li>
<li>truncate删除表中数据，再插入时自增长id又从1开始。</li>
<li>delete删除表中数据，可以加where字句。<br>（1） DELETE语句执行删除的过程是每次从表中删除一行，并且同时将该行的删除操作作为事务记录在 日志中保存以便进行进行回滚操作。TRUNCATE TABLE 则一次性地从表中删除所有的数据并不把单独 的删除操作记录记入日志保存，删除行是不能恢复的。并且在删除的过程中不会激活与表有关的删除触 发器。执行速度快。<br>（2） 表和索引所占空间。当表被TRUNCATE 后，这个表和索引所占用的空间会恢复到初始大小，而<br>DELETE操作不会减少表或索引所占用的空间。drop语句将表所占用的空间全释放掉。<br>（3） 一般而言，drop &gt; truncate &gt; delete<br>（4） 应用范围。TRUNCATE 只能对TABLE；DELETE可以是table和view<br>（5） TRUNCATE 和DELETE只删除数据，而DROP则删除整个表（结构和数据）。<br>（6） truncate与不带where的delete ：只删除数据，而不删除表的结构（定义）drop语句将删除表的 结构被依赖的约束（constrain),触发器（trigger)索引（index);依赖于该表的存储过程&#x2F;函数将被保留， 但其状态会变为：invalid。<br>（7） delete语句为DML（data maintain Language),这个操作会被放到 rollback segment中,事务提交 后才生效。如果有相应的 tigger,执行的时候将被触发。<br>（8） truncate、drop是DLL（data define language),操作立即生效，原数据不放到 rollback segment中，不能回滚。<br>（9） 在没有备份情况下，谨慎使用 drop 与 truncate。要删除部分数据行采用delete且注意结合 where来约束影响范围。回滚段要足够大。要删除表用drop;若想保留表而将表中数据删除，如果与事 务无关，用truncate即可实现。如果和事务有关，或老师想触发trigger,还是用delete。<br>（10） Truncate table 表名 速度快,而且效率高,因为:?truncate table 在功能上与不带 WHERE 子句的 DELETE 语句相同：二者均删除表中的全部行。但 TRUNCATE TABLE 比 DELETE 速度快，且使用的系统 和事务日志资源少。DELETE 语句每次删除一行，并在事务日志中为所删除的每行记录一项。 TRUNCATE TABLE 通过释放存储表数据所用的数据页来删除数据，并且只在事务日志中记录页的释 放。<br>（11） TRUNCATE TABLE 删除表中的所有行，但表结构及其列、约束、索引等保持不变。新行标识所 用的计数值重置为该列的种子。如果想保留标识计数值，请改用 DELETE。如果要删除表定义及其数 据，请使用 DROP TABLE 语句。<br>（12） 对于由 FOREIGN KEY 约束引用的表，不能使用 TRUNCATE TABLE，而应使用不带 WHERE 子 句的 DELETE 语句。由于 TRUNCATE TABLE 不记录在日志中，所以它不能激活触发器。</li>
</ol>
<p> 
 </p>
<h3 id="10-什么是临时表，临时表什么时候删除"><a href="#10-什么是临时表，临时表什么时候删除" class="headerlink" title="10.什么是临时表，临时表什么时候删除?"></a>10.什么是临时表，临时表什么时候删除?</h3><p>临时表可以手动删除：<br>DROP TEMPORARY TABLE IF EXISTS temp_tb;<br>临时表只在当前连接可见，当关闭连接时，MySQL会自动删除表并释放所有空间。因此在不同的连接中 可以创建同名的临时表，并且操作属于本连接的临时表。 创建临时表的语法与创建表语法类似，不同之处是增加关键字TEMPORARY，<br>如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> TEMPORARY <span class="keyword">TABLE</span> tmp_table ( NAME <span class="type">VARCHAR</span> (<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line"><span class="type">time</span> <span class="type">date</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tmp_table;</span><br></pre></td></tr></table></figure>
<p> 
 </p>
<h3 id="11-说说非关系型数据库和关系型数据库区别，优势比较"><a href="#11-说说非关系型数据库和关系型数据库区别，优势比较" class="headerlink" title="11.说说非关系型数据库和关系型数据库区别，优势比较?"></a>11.说说非关系型数据库和关系型数据库区别，优势比较?</h3><p>非关系型数据库的优势：<br>性能：NOSQL是基于键值对的，可以想象成表中的主键和值的对应关系，而且不需要经过SQL层的解 析，所以性能非常高。<br>可扩展性：同样也是因为基于键值对，数据之间没有耦合性，所以非常容易水平扩展。 </p>
<p>关系型数据库的优势：<br>复杂查询：可以用SQL语句方便的在一个表以及多个表之间做非常复杂的数据查询。<br>事务支持：使得对于安全性能很高的数据访问要求得以实现。<br> 其他：</p>
<ol>
<li>对于这两类数据库，对方的优势就是自己的弱势，反之亦然。</li>
<li>NOSQL数据库慢慢开始具备SQL数据库的一些复杂查询功能，比如MongoDB。</li>
<li>对于事务的支持也可以用一些系统级的原子操作来实现例如乐观锁之类的方法来曲线救国，比如Redis set nx。</li>
</ol>
<p> 
 </p>
<h3 id="12-什么是数据库范式，根据某个场景设计数据表"><a href="#12-什么是数据库范式，根据某个场景设计数据表" class="headerlink" title="12.什么是数据库范式，根据某个场景设计数据表?"></a>12.什么是数据库范式，根据某个场景设计数据表?</h3><p>第一范式:(确保每列保持原子性)所有字段值都是不可分解的原子值。 第一范式是最基本的范式。如果数据库表中的所有字段值都是不可分解的原子值，就说明该数据库表满 足了第一范式。 第一范式的合理遵循需要根据系统的实际需求来定。比如某些数据库系统中需要用到“地址”这个属性， 本来直接将“地址”属性设计成一个数据库表的字段就行。但是如果系统经常会访问“地址”属性中的“城市” 部分，那么就非要将“地址”这个属性重新拆分为省份、城市、详细地址等多个部分进行存储，这样在对 地址中某一部分操作的时候将非常方便。这样设计才算满足了数据库的第一范式，如下表所示。 上表所示的用户信息遵循了第一范式的要求，这样在对用户使用城市进行分类的时候就非常方便，也提 高了数据库的性能。<br> 第二范式:(确保表中的每列都和主键相关)在一个数据库表中，一个表中只能保存一种数据，不可以把多 种数据保存在同一张数据库表中。 第二范式在第一范式的基础之上更进一层。第二范式需要确保数据库表中的每一列都和主键相关，而不 能只与主键的某一部分相关（主要针对联合主键而言）。也就是说在一个数据库表中，一个表中只能保 存一种数据，不可以把多种数据保存在同一张数据库表中。 比如要设计一个订单信息表，因为订单中可能会有多种商品，所以要将订单编号和商品编号作为数据库 表的联合主键。<br>第三范式:(确保每列都和主键列直接相关,而不是间接相关) 数据表中的每一列数据都和主键直接相关， 而不能间接相关。第三范式需要确保数据表中的每一列数据都和主键直接相关，而不能间接相关。 比如在设计一个订单数据表的时候，可以将客户编号作为一个外键和订单表建立相应的关系。而不可以 在订单表中添加关于客户其它信息（比如姓名、所属公司等）的字段。 BCNF:符合3NF，并且，主属性不依赖于主属性。 若关系模式属于第二范式，且每个属性都不传递依赖于键码，则R属于BC范式。 通常BC范式的条件有多种等价的表述：每个非平凡依赖的左边必须包含键码；每个决定因素必须包含键 码。 BC范式既检查非主属性，又检查主属性。当只检查非主属性时，就成了第三范式。满足BC范式的关系 都必然满足第三范式。 还可以这么说：若一个关系达到了第三范式，并且它只有一个候选码，或者它的每个候选码都是单属 性，则该关系自然达到BC范式。<br>一般，一个数据库设计符合3NF或BCNF就可以了。 第四范式:要求把同一表内的多对多关系删除。 第五范式:从最终结构重新建立原始结构。
 
 </p>
<h3 id="13-什么是-内连接、外连接、交叉连接、笛卡尔积等"><a href="#13-什么是-内连接、外连接、交叉连接、笛卡尔积等" class="headerlink" title="13.什么是 内连接、外连接、交叉连接、笛卡尔积等?"></a>13.什么是 内连接、外连接、交叉连接、笛卡尔积等?</h3><ol>
<li>内连接: 只连接匹配的行</li>
<li>左外连接: 包含左边表的全部行（不管右边的表中是否存在与它们匹配的行），以及右边表中全部匹配的行</li>
<li>右外连接: 包含右边表的全部行（不管左边的表中是否存在与它们匹配的行），以及左边表中全部匹配的行</li>
</ol>
<p>例如1：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> a.,b. <span class="keyword">FROM</span> luntan <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> usertable <span class="keyword">as</span> b <span class="keyword">ON</span> a.username<span class="operator">=</span>b.username</span><br></pre></td></tr></table></figure>


<p>例如2：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> a.,b. <span class="keyword">FROM</span> city <span class="keyword">as</span> a <span class="keyword">FULL</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> <span class="keyword">user</span> <span class="keyword">as</span> b <span class="keyword">ON</span> a.username<span class="operator">=</span>b.username</span><br></pre></td></tr></table></figure>
<p> <br>全外连接: 包含左、右两个表的全部行，不管另外一边的表中是否存在与它们匹配的行。<br>交叉连接: 生成笛卡尔积－它不使用任何匹配或者选取条件，而是直接将一个数据源中的每个行与另一 个数据源的每个行都一一匹配<br>例如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> type,pub_name <span class="keyword">FROM</span> titles <span class="keyword">CROSS</span> <span class="keyword">JOIN</span> publishers <span class="keyword">ORDER</span> <span class="keyword">BY</span> type</span><br></pre></td></tr></table></figure>


<p> </p>
<h3 id="14-varchar和char的使用场景"><a href="#14-varchar和char的使用场景" class="headerlink" title="14.varchar和char的使用场景?"></a>14.varchar和char的使用场景?</h3><p>1.char的长度是不可变的，而varchar的长度是可变的。 定义一个char[10]和varchar[10]。<br>如果存进去的是‘csdn’,那么char所占的长度依然为10，除了字符‘csdn’外，后面跟六个空格，varchar就 立马把长度变为4了，取数据的时候，char类型的要用trim()去掉多余的空格，而varchar是不需要的。 2.char的存取速度还是要比varchar要快得多，因为其长度固定，方便程序的存储与查找。 char也为此付出的是空间的代价，因为其长度固定，所以难免会有多余的空格占位符占据空间，可谓是 以空间换取时间效率。<br>varchar是以空间效率为首位。 3.char的存储方式是：对英文字符（ASCII）占用1个字节，对一个汉字占用两个字节。 varchar的存储方式是：对每个英文字符占用2个字节，汉字也占用2个字节。 4.两者的存储数据都非unicode的字符数据。
 
 </p>
<h3 id="15-SQL语言分类"><a href="#15-SQL语言分类" class="headerlink" title="15.SQL语言分类"></a>15.SQL语言分类</h3><p>SQL语言共分为四大类： </p>
<ol>
<li>数据查询语言DQL</li>
</ol>
<p>数据查询语言DQL基本结构是由SELECT子句，FROM子句，WHERE子句组成的查询块：<br>SELECT FROM WHERE</p>
<ol start="2">
<li>数据操纵语言DML 数据操纵语言DML主要有三种形式：<ul>
<li>插入：INSERT</li>
<li>更新：UPDATE</li>
<li>删除：DELETE</li>
</ul>
</li>
<li>数据定义语言DDL</li>
</ol>
<p>数据定义语言DDL用来创建数据库中的各种对象—–表、视图、索引、同义词、聚簇等如：<br>CREATE TABLE&#x2F;VIEW&#x2F;INDEX&#x2F;SYN&#x2F;CLUSTER<br>表 视图 索引 同义词 簇<br>DDL操作是隐性提交的！不能rollback </p>
<ol start="4">
<li>数据控制语言DCL</li>
</ol>
<p>数据控制语言DCL用来授予或回收访问数据库的某种特权，并控制数据库操纵事务发生的时间及效 果，对数据库实行监视等。如：</p>
<ul>
<li>GRANT：授权。</li>
<li>ROLLBACK [WORK] TO [SAVEPOINT]：回退到某一点。回滚—ROLLBACK；回滚命令使数据库 状态回到上次最后提交的状态。其格式为：SQL&gt;ROLLBACK;</li>
<li>COMMIT [WORK]：提交。 在数据库的插入、删除和修改操作时，只有当事务在提交到数据库时才算完成。在事务提交前，只 有操作数据库的这个人才能有权看到所做的事情，别人只有在最后提交完成后才可以看到。 提交数据有三种类型：显式提交、隐式提交及自动提交。下面分别说明这三种类型。</li>
</ul>
<p>(1) 显式提交 用COMMIT命令直接完成的提交为显式提交。其格式为：SQL&gt;COMMIT；<br>(2) 隐式提交 用SQL命令间接完成的提交为隐式提交。这些命令是：ALTER，AUDIT，COMMENT，CONNECT，CREATE，DISCONNECT，DROP， EXIT，GRANT，NOAUDIT，QUIT，REVOKE，RENAME。<br>(3) 自动提交 若把AUTOCOMMIT设置为ON，则在插入、修改、删除语句执行后， 系统将自动进行提交，这就是自动提交。其格式为：SQL&gt;SET AUTOCOMMIT ON；
 
 </p>
<h3 id="16-说说like-和-的区别"><a href="#16-说说like-和-的区别" class="headerlink" title="16.说说like %和-的区别"></a>16.说说like %和-的区别</h3><p>通配符的分类</p>
<ul>
<li>% 百分号通配符：表示任何字符出现任意次数(可以是0次).</li>
<li>_ 下划线通配符：表示只能匹配单个字符,不能多也不能少,就是一个字符.</li>
<li>like 操作符：LIKE作用是指示mysql后面的搜索模式是利用通配符而不是直接相等匹配进行比较.</li>
</ul>
<p>注意: 如果在使用like操作符时,后面的没有使用通用匹配符效果是和&#x3D;一致的,<br>SELECT * FROM products WHERE products.prod_name like ‘1000’;  能匹配的结果为1000,而不能匹配像JetPack 1000这样的结果.</p>
<p>技巧与建议:<br>正如所见，通配符很有用，但这种功能是有代价的：通配符搜索的处理一般要比前面讨论的 其他搜索所花时间更长。这里给出一些使用通配符要记住的技巧。 不要过度使用通配符。如果其他操作符能达到相同的目的，应该 使用其他操作符。 在确实需要使用通配符时，除非绝对有必要，否则不要把它们用 在搜索模式的开始处。把通配符置于搜 索模式的开始处，搜索起 来是最慢的。 仔细注意通配符的位置。如果放错地方，可能不会返回想要的数.
 
 </p>
<h3 id="17-说说count-、count-1-、count-column-的区别"><a href="#17-说说count-、count-1-、count-column-的区别" class="headerlink" title="17.说说count(*)、count(1)、count(column)的区别"></a>17.说说count(*)、count(1)、count(column)的区别</h3><p>count() 对行的数目进行计算,包含NULL<br>count(column) 对特定的列的值具有的行数进行计算,不包含NULL值。<br>count() 还有一种使用方式,count(1)这个用法和count()的结果是一样的。<br>性能问题:</p>
<ol>
<li>任何情况下 SELECT COUNT() FROM tablename 是最优选择;</li>
<li>尽量减少 SELECT COUNT() FROM tablename WHERE COL &#x3D; ‘value’ 这种查询;</li>
<li>杜绝 SELECT COUNT(COL) FROM tablename WHERE COL2 &#x3D;‘value’ 的出现。 </li>
<li>如果表没有主键,那么 count(1) 比 count() 快。 如果有主键,那么 count(主键,联合主键) 比 count() 快。 如果表只有一个字段 ,count() 最快。count(1) 跟 count(主键) 一样,只扫描主键。 count() 跟 count(非主键) 一样,扫描整个表。明显前者更快一 些。</li>
</ol>
<p> 
 </p>
<h3 id="18-什么是最左前缀原则？"><a href="#18-什么是最左前缀原则？" class="headerlink" title="18.什么是最左前缀原则？"></a>18.什么是最左前缀原则？</h3><p>多列索引： </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> people <span class="keyword">ADD</span> INDEX lname_fname_age (lame,fname,age);</span><br></pre></td></tr></table></figure>
<p> <br>为了提高搜索效率，我们需要考虑运用多列索引,由于索引文件以B－Tree格式保存，所以我们不用扫描 任何记录，即可得到最终结果。 注：在mysql中执行查询时，只能使用一个索引，如果我们在lname,fname,age上分别建索引,执行查询 时，只能使用一个索引，mysql会选择一个最严格(获得结果集记录数最少)的索引。 最左前缀原则：顾名思义，就是最左优先，上例中我们创建了lname_fname_age多列索引,相当于创建 了(lname)单列索引，(lname,fname)组合索引以及(lname,fname,age)组合索引。</p>
<h3 id="19-什么是索引？"><a href="#19-什么是索引？" class="headerlink" title="19.什么是索引？"></a>19.什么是索引？</h3><p>何为索引： 数据库索引，是数据库管理系统中一个排序的数据结构，索引的实现通常使用B树及其变种B+树。 在数据之外，数据库系统还维护着满足特定查找算法的数据结构，这些数据结构以某种方式引用（指 向）数据，这样就可以在这些数据结构上实现高级查找算法。这种数据结构，就是索引。</p>
<h3 id="20-索引的作用？它的优点缺点是什么？"><a href="#20-索引的作用？它的优点缺点是什么？" class="headerlink" title="20.索引的作用？它的优点缺点是什么？"></a>20.索引的作用？它的优点缺点是什么？</h3><p>索引作用： 协助快速查询、更新数据库表中数据。 为表设置索引要付出代价的： 一是增加了数据库的存储空间<br>二是在插入和修改数据时要花费较多的时间(因为索引也要随之变动)。</p>
<p> </p>
<h3 id="21-索引的优缺点有哪些？"><a href="#21-索引的优缺点有哪些？" class="headerlink" title="21.索引的优缺点有哪些？"></a>21.索引的优缺点有哪些？</h3><p>创建索引可以大大提高系统的性能（优点）：<br>（1）通过创建唯一性索引，可以保证数据库表中每一行数据的唯一性。<br>（2）可以大大加快数据的检索速度，这也是创建索引的最主要的原因。<br>（3）可以加速表和表之间的连接，特别是在实现数据的参考完整性方面特别有意义。<br>（4）在使用分组和排序子句进行数据检索时，同样可以显著减少查询中分组和排序的时间。<br>（5）通过使用索引，可以在查询的过程中，使用优化隐藏器，提高系统的性能。</p>
<p>增加索引也有许多不利的方面(缺点)：<br>（1）.创建索引和维护索引要耗费时间，这种时间随着数据量的增加而增加。<br>（2）.索引需要占物理空间，除了数据表占数据空间之外，每一个索引还要占一定的物理空间，如果要 建立聚簇索引，那么需要的空间就会更大。<br>（3）.当对表中的数据进行增加、删除和修改的时候，索引也要动态的维护，这样就降低了数据的维护 速度。<br>（4）.哪些列适合建立索引、哪些不适合建索引？ 索引是建立在数据库表中的某些列的上面。在创建索引的时候，应该考虑在哪些列上可以创建索引，在 哪些列上不能创建索引。</p>
<p>一般来说，应该在这些列上创建索引：<br>（1）在经常需要搜索的列上，可以加快搜索的速度；<br>（2）在作为主键的列上，强制该列的唯一性和组织表中数据的排列结构；<br>（3）在经常用在连接的列上，这些列主要是一些外键，可以加快连接的速度；<br>（4）在经常需要根据范围进行搜索的列上创建索引，因为索引已经排序，其指定的范围是连续的；<br>（5）在经常需要排序的列上创建索引，因为索引已经排序，这样查询可以利用索引的排序，加快排序 查询时间；<br>（6）在经常使用在WHERE子句中的列上面创建索引，加快条件的判断速度。</p>
<p>对于有些列不应该创建索引：<br>（1）对于那些在查询中很少使用或者参考的列不应该创建索引。 这是因为，既然这些列很少使用到，因此有索引或者无索引，并不能提高查询速度。相反，由于增加了 索引，反而降低了系统的维护速度和增大了空间需求。<br>（2）对于那些只有很少数据值的列也不应该增加索引。 这是因为，由于这些列的取值很少，例如人事表的性别列，在查询的结果中，结果集的数据行占了表中 数据行的很大比例，即需要在表中搜索的数据行的比例很大。增加索引，并不能明显加快检索速度。<br>（3）对于那些定义为text, image和bit数据类型的列不应该增加索引。 这是因为，这些列的数据量要么相当大，要么取值很少。(4)当修改性能远远大于检索性能时，不应该创建索引。 这是因为，修改性能和检索性能是互相矛盾的。当增加索引时，会提高检索性能，但是会降低修改性 能。当减少索引时，会提高修改性能，降低检索性能。因此，当修改性能远远大于检索性能时，不应该 创建索引。<br>索引详解：带你从头到尾捋一遍MySQL索引结构！
 
 </p>
<h3 id="22-什么样的字段适合建索引？"><a href="#22-什么样的字段适合建索引？" class="headerlink" title="22.什么样的字段适合建索引？"></a>22.什么样的字段适合建索引？</h3><p>唯一、不为空、经常被查询的字段</p>
<h3 id="23-说说聚集索引和非聚集索引区别"><a href="#23-说说聚集索引和非聚集索引区别" class="headerlink" title="23.说说聚集索引和非聚集索引区别?"></a>23.说说聚集索引和非聚集索引区别?</h3><p>聚合索引(clustered index):<br>聚集索引表记录的排列顺序和索引的排列顺序一致，所以查询效率快，只要找到第一个索引值记录，其 余就连续性的记录在物理也一样连续存放。聚集索引对应的缺点就是修改慢，因为为了保证表中记录的 物理和索引顺序一致，在记录插入的时候，会对数据页重新排序。<br>聚集索引类似于新华字典中用拼音去查找汉字，拼音检索表于书记顺序都是按照a~z排列的，就像相同 的逻辑顺序于物理顺序一样，当你需要查找a,ai两个读音的字，或是想一次寻找多个傻(sha)的同音字 时，也许向后翻几页，或紧接着下一行就得到结果了。</p>
<p>非聚合索引(nonclustered index):<br>非聚集索引指定了表中记录的逻辑顺序，但是记录的物理和索引不一定一致，两种索引都采用B+树结 构，非聚集索引的叶子层并不和实际数据页相重叠，而采用叶子层包含一个指向表中的记录在数据页中 的指针方式。非聚集索引层次多，不会造成数据重排。 非聚集索引类似在新华字典上通过偏旁部首来查询汉字，检索表也许是按照横、竖、撇来排列的，但是 由于正文中是a~z的拼音顺序，所以就类似于逻辑地址于物理地址的不对应。同时适用的情况就在于分组，大数目的不同值，频繁更新的列中，这些情况即不适合聚集索引。</p>
<p>根本区别： 聚集索引和非聚集索引的根本区别是表记录的排列顺序和与索引的排列顺序是否一致。</p>
<hr>
<h2 id="二、SqlServer笔试基础篇"><a href="#二、SqlServer笔试基础篇" class="headerlink" title="二、SqlServer笔试基础篇"></a>二、SqlServer笔试基础篇</h2><p>试用SQL查询语句表达下列对教学数据库中三个基本表 S、SC 、C 的查询： S(sno,sname,SAGE,SSEX) 各字段表示学号，姓名，年龄，性别 Sc(sno,cno,grade) 各字段表示学号，课程号，成绩、<br>C(cno,cname, TEACHER) 各字段表示课程号，课程名和教师名 其 中 SAGE， grade 是数值型，其他均 为字符型。</p>
<h3 id="1-求年龄大于所有女同学年龄的男学生姓名和年龄。"><a href="#1-求年龄大于所有女同学年龄的男学生姓名和年龄。" class="headerlink" title="1.求年龄大于所有女同学年龄的男学生姓名和年龄。"></a>1.求年龄大于所有女同学年龄的男学生姓名和年龄。</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECTSNAME,SAGE <span class="keyword">FROM</span> S <span class="keyword">AS</span> X</span><br><span class="line"><span class="keyword">WHERE</span> X.SSEX<span class="operator">=</span><span class="string">&#x27; 男&#x27;</span><span class="keyword">AND</span> X.SAGE <span class="operator">&gt;</span><span class="keyword">ALL</span> (<span class="keyword">SELECT</span> SAGE FROMS <span class="keyword">AS</span> Y <span class="keyword">WHERE</span> Y.SSEX<span class="operator">=</span><span class="string">&#x27; 女&#x27;</span>)</span><br></pre></td></tr></table></figure>


<h3 id="2-求年龄大于女同学平均年龄的男学生姓名和年龄。"><a href="#2-求年龄大于女同学平均年龄的男学生姓名和年龄。" class="headerlink" title="2.求年龄大于女同学平均年龄的男学生姓名和年龄。"></a>2.求年龄大于女同学平均年龄的男学生姓名和年龄。</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> SNAME,SAGE <span class="keyword">FROM</span> S</span><br><span class="line"><span class="keyword">WHERE</span> SSEX<span class="operator">=</span><span class="string">&#x27; 男&#x27;</span></span><br><span class="line"><span class="keyword">AND</span> SAGE<span class="operator">&gt;</span>(SELECTAVG(SAGE) <span class="keyword">FROM</span> S <span class="keyword">WHERE</span> SSEX<span class="operator">=</span><span class="string">&#x27;女&#x27;</span>)</span><br></pre></td></tr></table></figure>


<h3 id="3-在-SC-中检索成绩为空值的学生学号和课程号。"><a href="#3-在-SC-中检索成绩为空值的学生学号和课程号。" class="headerlink" title="3.在 SC 中检索成绩为空值的学生学号和课程号。"></a>3.在 SC 中检索成绩为空值的学生学号和课程号。</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno,CnoFROM SC <span class="keyword">WHERE</span> GRADE <span class="keyword">IS</span> <span class="keyword">NULL</span></span><br></pre></td></tr></table></figure>


<h3 id="4-检索姓名以-WANG-打头的所有学生的姓名和年龄。"><a href="#4-检索姓名以-WANG-打头的所有学生的姓名和年龄。" class="headerlink" title="4.检索姓名以 WANG 打头的所有学生的姓名和年龄。"></a>4.检索姓名以 WANG 打头的所有学生的姓名和年龄。</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> SNAME,SAGE <span class="keyword">FROM</span> S <span class="keyword">WHERE</span> SNAME <span class="keyword">LIKE</span> <span class="string">&#x27;WANG%&#x27;</span></span><br></pre></td></tr></table></figure>


<h3 id="5-检索学号比-WANG-同学大，而年龄比他小的学生姓名。"><a href="#5-检索学号比-WANG-同学大，而年龄比他小的学生姓名。" class="headerlink" title="5.检索学号比 WANG 同学大，而年龄比他小的学生姓名。"></a>5.检索学号比 WANG 同学大，而年龄比他小的学生姓名。</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> X.SNAME <span class="keyword">FROM</span> S <span class="keyword">AS</span> X, S <span class="keyword">AS</span> Y</span><br><span class="line"><span class="keyword">WHERE</span> Y .SNAME<span class="operator">=</span><span class="string">&#x27;WANG&#x27;</span> <span class="keyword">AND</span> X.Sno<span class="operator">&gt;</span>Y.Sno <span class="keyword">AND</span> X.SAGE</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> SNAME</span><br><span class="line"><span class="keyword">from</span> s</span><br><span class="line"><span class="keyword">where</span> sno<span class="operator">&gt;</span>(<span class="keyword">select</span> sno <span class="keyword">from</span> s <span class="keyword">where</span> SNAME<span class="operator">=</span><span class="string">&#x27;WANG&#x27;</span>) andSAGE<span class="operator">&lt;</span>(<span class="keyword">select</span> sAGE <span class="keyword">from</span> s <span class="keyword">where</span> SNAME<span class="operator">=</span><span class="string">&#x27;WANG&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>**</p>
<h3 id="6-统计每门课程的学生选修人数-（超过-2-人的课程才统计）-。要求-输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按-课程号升序排列。"><a href="#6-统计每门课程的学生选修人数-（超过-2-人的课程才统计）-。要求-输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按-课程号升序排列。" class="headerlink" title="6.统计每门课程的学生选修人数 （超过 2 人的课程才统计） 。要求 输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按 课程号升序排列。"></a>6.统计每门课程的学生选修人数 （超过 2 人的课程才统计） 。要求 输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按 课程号升序排列。</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> Cno,<span class="built_in">COUNT</span>(Sno) <span class="keyword">FROM</span> SC GROUPBY Cno <span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(Sno)<span class="operator">&gt;</span><span class="number">2</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="number">2</span> <span class="keyword">DESC</span>, Cno <span class="keyword">ASC</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> Cno,<span class="built_in">COUNT</span>(Sno) <span class="keyword">as</span> 人数</span><br><span class="line">FROMSC <span class="keyword">GROUP</span> <span class="keyword">BY</span> Cno <span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(Sno)<span class="operator">&gt;</span><span class="number">2</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> 人 数 <span class="keyword">DESC</span>, Cno <span class="keyword">ASC</span></span><br></pre></td></tr></table></figure>
<p> </p>
<h3 id="7-求-LIU-老师所授课程的每门课程的学生平均成绩。"><a href="#7-求-LIU-老师所授课程的每门课程的学生平均成绩。" class="headerlink" title="7.求 LIU 老师所授课程的每门课程的学生平均成绩。"></a>7.求 LIU 老师所授课程的每门课程的学生平均成绩。</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(GRADE)</span><br><span class="line"><span class="keyword">FROM</span> SC <span class="keyword">join</span> C <span class="keyword">on</span> SC.Cno<span class="operator">=</span>C.Cno <span class="keyword">WHERE</span> TEACHER<span class="operator">=</span><span class="string">&#x27;liu&#x27;</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> c.Cno</span><br><span class="line"> </span><br><span class="line">SELECTCNAME,<span class="built_in">AVG</span>(GRADE) <span class="keyword">FROM</span> SC ,C <span class="keyword">WHERE</span> SC.Cno<span class="operator">=</span>C.Cno <span class="keyword">AND</span> TEACHER<span class="operator">=</span><span class="string">&#x27;liu&#x27;</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> c.Cno,cname</span><br></pre></td></tr></table></figure>
<p> </p>
<h3 id="8-求选修-C4-课程的学生的平均年龄。"><a href="#8-求选修-C4-课程的学生的平均年龄。" class="headerlink" title="8.求选修 C4 课程的学生的平均年龄。"></a>8.求选修 C4 课程的学生的平均年龄。</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(SAGE ) FROMS <span class="keyword">WHERE</span> Sno</span><br><span class="line"><span class="keyword">IN</span>(<span class="keyword">SELECT</span> Sno <span class="keyword">FROM</span> SC <span class="keyword">WHERE</span> Cno<span class="operator">=</span><span class="string">&#x27;4&#x27;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(SAGE)</span><br><span class="line"><span class="keyword">FROM</span> S,SC WHERES.Sno<span class="operator">=</span>SC.Sno <span class="keyword">AND</span> Cno<span class="operator">=</span><span class="string">&#x27;4&#x27;</span></span><br></pre></td></tr></table></figure>
<p> </p>
<h3 id="9．统计有学生选修的课程门数。"><a href="#9．统计有学生选修的课程门数。" class="headerlink" title="9．统计有学生选修的课程门数。"></a>9．统计有学生选修的课程门数。</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="keyword">DISTINCT</span> Cno) <span class="keyword">FROM</span> SC</span><br></pre></td></tr></table></figure>
<p> </p>
<hr>
<p>试用 SQL 更新语句表达对教学数据库中三个基本表 S、 SC 、C的各个更新操作：</p>
<p> </p>
<h3 id="10-在基本表-SC-中修改-4-号课程的成绩，若成绩小于等于-75-分时提-高-5-，-若成绩大于-75-分时提高-4-（用两个-UPDATE-语句实-现）。"><a href="#10-在基本表-SC-中修改-4-号课程的成绩，若成绩小于等于-75-分时提-高-5-，-若成绩大于-75-分时提高-4-（用两个-UPDATE-语句实-现）。" class="headerlink" title="10.在基本表 SC 中修改 4 号课程的成绩，若成绩小于等于 75 分时提 高 5% ， 若成绩大于 75 分时提高 4% （用两个 UPDATE 语句实 现）。"></a>10.在基本表 SC 中修改 4 号课程的成绩，若成绩小于等于 75 分时提 高 5% ， 若成绩大于 75 分时提高 4% （用两个 UPDATE 语句实 现）。</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> SC SETGRADE<span class="operator">=</span>GRADE<span class="operator">*</span><span class="number">1.05</span> <span class="keyword">WHERE</span> Cno<span class="operator">=</span><span class="string">&#x27;4&#x27;</span> <span class="keyword">AND</span> GRADE<span class="operator">&lt;=</span><span class="number">75</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">UPDATE</span> SC <span class="keyword">SET</span> GRADE<span class="operator">=</span>GRADE<span class="operator">*</span><span class="number">1.04</span> <span class="keyword">WHERE</span> Cno<span class="operator">=</span><span class="string">&#x27;4&#x27;</span> <span class="keyword">AND</span> GRADE<span class="operator">&gt;</span><span class="number">75</span></span><br></pre></td></tr></table></figure>
<p> </p>
<h3 id="11-把低于总平均成绩的女同学成绩提高-5-。"><a href="#11-把低于总平均成绩的女同学成绩提高-5-。" class="headerlink" title="11 .把低于总平均成绩的女同学成绩提高 5% 。"></a>11 .把低于总平均成绩的女同学成绩提高 5% 。</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> SC SETGRADE<span class="operator">=</span>GRADE<span class="operator">*</span><span class="number">1.05</span> <span class="keyword">WHERE</span> GRADE<span class="operator">&lt;</span>(<span class="keyword">SELECT</span> <span class="built_in">AVG</span>(GRADE) <span class="keyword">FROM</span> SC) <span class="keyword">AND</span> Sno <span class="keyword">IN</span> (<span class="keyword">SELECT</span> Sno <span class="keyword">FROM</span> SWHERE SSEX<span class="operator">=</span><span class="string">&#x27; 女&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p> </p>
<h3 id="12-把选修数据库原理课不及格的成绩全改为空值。"><a href="#12-把选修数据库原理课不及格的成绩全改为空值。" class="headerlink" title="12 .把选修数据库原理课不及格的成绩全改为空值。"></a>12 .把选修数据库原理课不及格的成绩全改为空值。</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> SC <span class="keyword">SET</span> GRADE<span class="operator">=</span><span class="keyword">NULL</span></span><br><span class="line"><span class="keyword">WHERE</span> GRADE<span class="operator">&lt;</span><span class="number">60</span> <span class="keyword">AND</span> Cno <span class="keyword">IN</span>(<span class="keyword">SELECT</span> Cno <span class="keyword">FROM</span> C <span class="keyword">WHERE</span> CNAME<span class="operator">=</span><span class="string">&#x27; 数据库原理 &#x27;</span>)</span><br></pre></td></tr></table></figure>
<p> </p>
<h3 id="13．把WANG-同学的学习选课和成绩全部删去。"><a href="#13．把WANG-同学的学习选课和成绩全部删去。" class="headerlink" title="13．把WANG 同学的学习选课和成绩全部删去。"></a>13．把WANG 同学的学习选课和成绩全部删去。</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DELETEFROM SC <span class="keyword">WHERE</span> Sno <span class="keyword">IN</span>(<span class="keyword">SELECT</span> Sno <span class="keyword">FROM</span> S <span class="keyword">WHERE</span> SNAME<span class="operator">=</span><span class="string">&#x27;WANG&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p> </p>
<h3 id="14-．在基本表-SC-中删除尚无成绩的选课元组。"><a href="#14-．在基本表-SC-中删除尚无成绩的选课元组。" class="headerlink" title="14 ．在基本表 SC 中删除尚无成绩的选课元组。"></a>14 ．在基本表 SC 中删除尚无成绩的选课元组。</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> SCWHERE GRADE <span class="keyword">IS</span> <span class="keyword">NULL</span></span><br></pre></td></tr></table></figure>
<p> </p>
<h3 id="15-．往基本表-S-中插入一个学生元组（-‘-S9’，‘-WU-’，18-）。。"><a href="#15-．往基本表-S-中插入一个学生元组（-‘-S9’，‘-WU-’，18-）。。" class="headerlink" title="15 ．往基本表 S 中插入一个学生元组（ ‘ S9’，‘ WU ’，18 ）。。"></a>15 ．往基本表 S 中插入一个学生元组（ ‘ S9’，‘ WU ’，18 ）。。</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> S(Sno,SNAME,SAGE) <span class="keyword">VALUES</span>(<span class="string">&#x27;59&#x27;</span>,<span class="string">&#x27;WU&#x27;</span>,<span class="number">18</span>)</span><br></pre></td></tr></table></figure>
<p> </p>
<h3 id="16-什么是SQL注入式攻击？"><a href="#16-什么是SQL注入式攻击？" class="headerlink" title="16.什么是SQL注入式攻击？"></a>16.什么是SQL注入式攻击？</h3><p>所谓SQL注入式攻击，就是攻击者把SQL命令插入到Web表单的输入域或页面请求的查询字符串，欺骗 服务器执行恶意的SQL命令。在某些表单中，用户输入的内容直接用来构造（或者影响）动态SQL命 令，或作为存储过程的输入参数，这类表单特别容易受到SQL注入式攻击。</p>
<hr>
<h2 id="三、SqlServer笔试高级篇"><a href="#三、SqlServer笔试高级篇" class="headerlink" title="三、SqlServer笔试高级篇"></a>三、SqlServer笔试高级篇</h2><h3 id="1-什么是内存泄漏？"><a href="#1-什么是内存泄漏？" class="headerlink" title="1.什么是内存泄漏？"></a>1.什么是内存泄漏？</h3><p>一般我们所说的内存泄漏指的是堆内存的泄漏。堆内存是程序从堆中为其分配的，大小任意的，使用完 后要显示释放内存。当应用程序用关键字new 等创建对象时，就从堆中为它分配一块内存，使用完后程 序调用free 或者delete 释放该内存，否则就说该内存就不能被使用，我们就说该内存被泄漏了。
 </p>
<h3 id="2-维护数据库的完整性和一致性，你喜欢用触发器还是自写业务逻-辑？为什么？"><a href="#2-维护数据库的完整性和一致性，你喜欢用触发器还是自写业务逻-辑？为什么？" class="headerlink" title="2.维护数据库的完整性和一致性，你喜欢用触发器还是自写业务逻 辑？为什么？"></a>2.维护数据库的完整性和一致性，你喜欢用触发器还是自写业务逻 辑？为什么？</h3><p>是这样做的，尽可能使用约束，如check, 主键，外键，非空字段等来约束，这样做效率最高，也最方 便。其次是使用触发器，这种方法可以保证，无论什么业务系统访问数据库都可以保证数据的完整新和 一致性。最后考虑的是自写业务逻辑，但这样做麻烦，编程复杂，效率低下。
 </p>
<h3 id="3-什么是事务？什么是锁？"><a href="#3-什么是事务？什么是锁？" class="headerlink" title="3.什么是事务？什么是锁？"></a>3.什么是事务？什么是锁？</h3><p>事务就是被绑定在一起作为一个逻辑工作单元的SQL 语句分组，如果任何一个语句操作失败那么整个操 作就被失败，以后操作就会回滚到操作前状态，或者是上有个节点。为了确保要么执行，要么不执行， 就可以使用事务。要将有组语句作为事务考虑，就需要通过ACID 测试，即原子性，一致性，隔离性和 持久性。<br>锁：在所以的 DBMS中，锁是实现事务的关键，锁可以保证事务的完整性和并发性。与现实生活中锁一 样，它可以使某些数据的拥有者，在某段时间内不能使用某些数据或数据结构。当然锁还分级别的。
 </p>
<h3 id="4-对一个投入使用的在线事务处理表格有过多索引需要有什么样的性-能考虑"><a href="#4-对一个投入使用的在线事务处理表格有过多索引需要有什么样的性-能考虑" class="headerlink" title="4.对一个投入使用的在线事务处理表格有过多索引需要有什么样的性 能考虑?"></a>4.对一个投入使用的在线事务处理表格有过多索引需要有什么样的性 能考虑?</h3><p>对一个表格的索引越多，数据库引擎用来更新、插入或者删除数据所需要的时间就越多，因为在数据操 控发生的时候索引也必须要维护。</p>
<h3 id="5-什么是相关子查询-如何使用这些查询"><a href="#5-什么是相关子查询-如何使用这些查询" class="headerlink" title="5.什么是相关子查询?如何使用这些查询?"></a>5.什么是相关子查询?如何使用这些查询?</h3><p>相关子查询是一种包含子查询的特殊类型的查询。查询里包含的子查询会真正请求外部查询的值，从而 形成一个类似于循环的状况。</p>
<h3 id="6-什么是SQL注入式攻击？"><a href="#6-什么是SQL注入式攻击？" class="headerlink" title="6.什么是SQL注入式攻击？"></a>6.什么是SQL注入式攻击？</h3><p>就是攻击者把SQL命令插入到Web表单的输入域或页面请求的查询字符串，欺骗服务器执行恶意的SQL 命令。在某些表单中，用户输入的内容直接用来构造（或者影响）动态SQL命令，或作为存储过程的输 入参数，这类表单特别容易受到SQL注入式攻击</p>
<h3 id="7-如何防范SQL注入式攻击？"><a href="#7-如何防范SQL注入式攻击？" class="headerlink" title="7.如何防范SQL注入式攻击？"></a>7.如何防范SQL注入式攻击？</h3><p>好在要防止ASP.NET应用被SQL注入式攻击闯入并不是一件特别困难的事情，只要在利用表单输入的内 容构造SQL命令之前，把所有输入内容过滤一番就可以了。过滤输入内容可以按多种方式进行。</p>
<ol>
<li>对于动态构造SQL查询的场合，可以使用下面的技术：</li>
</ol>
<p>第一：替换单引号，即把所有单独出现的单引号改成两个单引号，防止攻击者修改SQL命令的含义。 再来看前面的例子，“SELECT * from Users WHERE login &#x3D; ’’’ or ’’1’’&#x3D;’’1’ AND password &#x3D; ’’’ or ’’1’’&#x3D;’’1’” 显然会得到与“SELECT * from Users WHERE login &#x3D; ’’ or ’1’&#x3D;’1’ AND password &#x3D; ’’ or ’1’&#x3D;’1’”不同的结果。<br>第二：删除用户输入内容中的所有连字符，防止攻击者构造出类如“SELECT * from Users WHERE login &#x3D; ’mas’ —— AND password &#x3D;’’”之类的查询，因为这类查询的后半部分已经被注释掉，不再有 效，攻击者只要知道一个合法的用户登录名称，根本不需要知道用户的密码就可以顺利获得访问权限。第三：对于用来执行查询的数据库帐户，限制其权限。用不同的用户帐户执行查询、插入、更新、删 除操作。由于隔离了不同帐户可执行的操作，因而也就防止了原本用于执行SELECT命令的地方却被用 于执行INSERT、UPDATE或DELETE命令。</p>
<ol start="2">
<li>用存储过程来执行所有的查询。SQL参数的传递方式将防止攻击者利用单引号和连字符实施攻击。 此外，它还使得数据库权限可以限制到只允许特定的存储过程执行，所有的用户输入必须遵从被调用的 存储过程的安全上下文，这样就很难再发生注入式攻击了。</li>
<li>限制表单或查询字符串输入的长度。如果用户的登录名字最多只有10个字符，那么不要认可表单中 输入的10个以上的字符，这将大大增加攻击者在SQL命令中插入有害代码的难度。</li>
<li>检查用户输入的合法性，确信输入的内容只包含合法的数据。数据检查应当在客户端和服务器端都 执行——之所以要执行服务器端验证，是为了弥补客户端验证机制脆弱的安全性。 在客户端，攻击者完全有可能获得网页的源代码，修改验证合法性的脚本(或者直接删除脚本)，然后将 非法内容通过修改后的表单提交给服务器。因此，要保证验证操作确实已经执行，唯一的办法就是在服 务器端也执行验证。你可以使用许多内建的验证对象，例如RegularExpressionValidator，它们能够自动生成验证用的客户端脚本，当然你也可以插入服务器端的方法调用。如果找不到现成的验证对象，你 可以通过CustomValidator自己创建一个。</li>
<li>将用户登录名称、密码等数据加密保存。加密用户输入的数据，然后再将它与数据库中保存的数据 比较，这相当于对用户输入 的数据进行了“消毒”处理，用户输入的数据不再对数据库有任何特殊的意义，从而也就防止了攻击者注 入SQL命令。System.Web.Security.FormsAuthentication类有一个 HashPasswordForStoringInConfigFile，非常适合于对输入数据进行消毒处理。</li>
<li>检查提取数据的查询所返回的记录数量。如果程序只要求返回一个记录，但实际返回的记录却超过 一行，那就当作出错处理。</li>
<li>使用预处理语句</li>
</ol>
<h3 id="8-你可以用什么来确保表格里的字段只接受特定范围里的值"><a href="#8-你可以用什么来确保表格里的字段只接受特定范围里的值" class="headerlink" title="8.你可以用什么来确保表格里的字段只接受特定范围里的值?"></a>8.你可以用什么来确保表格里的字段只接受特定范围里的值?</h3><p>master 主要保存系统级的信息，比如本数据库实例都有哪些数据库 ，都有哪些账号等，需备份；model 模板，每创建一个数据库 ，都会根据这个库的结构来创建，如果改过此库，建议备份；msdb 保存计划任务，作业之类的信息，需备份，否则会丢失作业和备份计划；<br>tempdb 用户对sqlserver操作时产生的临时数据依赖于此库，最常见的是临时表，不许备份；
 </p>
<h3 id="9-有哪些操作会使用到TempDB；如果TempDB异常变大，可能的原-因是什么，该如何处理；"><a href="#9-有哪些操作会使用到TempDB；如果TempDB异常变大，可能的原-因是什么，该如何处理；" class="headerlink" title="9.有哪些操作会使用到TempDB；如果TempDB异常变大，可能的原 因是什么，该如何处理；"></a>9.有哪些操作会使用到TempDB；如果TempDB异常变大，可能的原 因是什么，该如何处理；</h3><p>每个sqlserver运行时所产生的临时数据都会用到tempdb，最常见的是执行sql脚本需要返回的记录集； 异常变大的原因是执行的操作返回的记录集过大造成，找出该语句优化，减少数据范围，或者分批操作 这些数据
 </p>
<h3 id="10-Index有哪些类型，它们的区别和实现原理是什么，索引有啥优点-和缺点；如何为SQL语句创建合适的索引，索引创建时有哪些需要-注-意的项，如何查看你创建的索引是否被使用；如何维护索引；索引损-坏如何检查，怎么修复；T-SQL有更好的索引存在，但是运行-时并没-有使用该索引，原因可能是什么；"><a href="#10-Index有哪些类型，它们的区别和实现原理是什么，索引有啥优点-和缺点；如何为SQL语句创建合适的索引，索引创建时有哪些需要-注-意的项，如何查看你创建的索引是否被使用；如何维护索引；索引损-坏如何检查，怎么修复；T-SQL有更好的索引存在，但是运行-时并没-有使用该索引，原因可能是什么；" class="headerlink" title="10.Index有哪些类型，它们的区别和实现原理是什么，索引有啥优点 和缺点；如何为SQL语句创建合适的索引，索引创建时有哪些需要,注 意的项，如何查看你创建的索引是否被使用；如何维护索引；索引损 坏如何检查，怎么修复；T-SQL有更好的索引存在，但是运行,时并没 有使用该索引，原因可能是什么；"></a>10.Index有哪些类型，它们的区别和实现原理是什么，索引有啥优点 和缺点；如何为SQL语句创建合适的索引，索引创建时有哪些需要,注 意的项，如何查看你创建的索引是否被使用；如何维护索引；索引损 坏如何检查，怎么修复；T-SQL有更好的索引存在，但是运行,时并没 有使用该索引，原因可能是什么；</h3><p>聚集索引，非聚集索引；聚集索引只能有一个，非聚集可有多个，数据依赖于聚集索引来保存，如果没 有聚集索引，数据是一个乱序的堆； 优点：合适的索引可有效提高查询效率；缺点：过多的索引，在insert、update 和 delete 的时候增加 索引的维护成本，降低并发量；<br>一般索引的创建要依赖于 where 和 order by 这两个关键字，执行计划可以看出是否用到了索引； 还没遇到过索引损坏的情况，如果损坏，重建之；<br>用不到索引可能是索引碎片过多 ，可进行碎片整理，若不行可加强制索引with(index( 索引名 ))
 </p>
<h3 id="11-Job信息我们可以通过哪些表获取；系统正在运行的语句可以通过-哪些视图获取；如何获取某个T-SQL语句的IO、Time等信息；"><a href="#11-Job信息我们可以通过哪些表获取；系统正在运行的语句可以通过-哪些视图获取；如何获取某个T-SQL语句的IO、Time等信息；" class="headerlink" title="11.Job信息我们可以通过哪些表获取；系统正在运行的语句可以通过 哪些视图获取；如何获取某个T-SQL语句的IO、Time等信息；"></a>11.Job信息我们可以通过哪些表获取；系统正在运行的语句可以通过 哪些视图获取；如何获取某个T-SQL语句的IO、Time等信息；</h3><p>sql2000下是通过 master.dbo.sysjobs 来查看作业信息；系统正在运行的语句可通过 master.dbo.sysprocesses 结合 dbcc inputbuffer 来查看，IO，在sql2000下我本人都是通过profiler 看reads，duration，sql2005下有了动态视图（dmv）；</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="http://www.zzonn.com">LiPan</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://www.zzonn.com/2020/02/03/SQLServer%E9%AB%98%E9%A2%91%E9%97%AE%E7%AD%94-sqlserver-gao-pin-wen-da/">http://www.zzonn.com/2020/02/03/SQLServer%E9%AB%98%E9%A2%91%E9%97%AE%E7%AD%94-sqlserver-gao-pin-wen-da/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/sqlserver/">sqlserver</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.zzonn.com/blog/avatar.jpeg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/02/08/MongoDB%E9%AB%98%E9%A2%91%E9%97%AE%E7%AD%94-mongodb-gao-pin-wen-da/" title="MongoDB高频问答"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">MongoDB高频问答</div></div></a></div><div class="next-post pull-right"><a href="/2020/02/02/MySql%E9%AB%98%E9%A2%91%E9%97%AE%E7%AD%94-mysql-gao-pin-wen-da/" title="MySql高频问答"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">MySql高频问答</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://cdn.zzonn.com/blog/avatar.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">LiPan</div><div class="author-info__description">www.zzonn.com</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">32</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">20</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">9</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/zzonn/zzonn.github.io" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:lp_work@outlook.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E7%AF%87%EF%BC%88SQLServer-x2F-MySQL%E9%80%9A%E7%94%A8%EF%BC%89"><span class="toc-number">1.</span> <span class="toc-text">一、数据库基础知识篇（SQLServer&#x2F;MySQL通用）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E8%AF%B4%E8%AF%B4%E4%B8%BB%E9%94%AE%E3%80%81%E5%A4%96%E9%94%AE%E3%80%81%E8%B6%85%E9%94%AE%E3%80%81%E5%80%99%E9%80%89%E9%94%AE"><span class="toc-number">1.1.</span> <span class="toc-text">1.说说主键、外键、超键、候选键</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%B8%BA%E4%BB%80%E4%B9%88%E7%94%A8%E8%87%AA%E5%A2%9E%E5%88%97%E4%BD%9C%E4%B8%BA%E4%B8%BB%E9%94%AE%EF%BC%9F"><span class="toc-number">1.2.</span> <span class="toc-text">2.为什么用自增列作为主键？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E8%A7%A6%E5%8F%91%E5%99%A8%E7%9A%84%E4%BD%9C%E7%94%A8%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">1.3.</span> <span class="toc-text">3.触发器的作用是什么？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E4%BB%80%E4%B9%88%E6%98%AF%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%EF%BC%9F%E7%94%A8%E4%BB%80%E4%B9%88%E6%9D%A5%E8%B0%83%E7%94%A8%EF%BC%9F"><span class="toc-number">1.4.</span> <span class="toc-text">4.什么是存储过程？用什么来调用？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E8%AF%B4%E8%AF%B4%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9%EF%BC%9F"><span class="toc-number">1.5.</span> <span class="toc-text">5.说说存储过程的优缺点？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E8%AF%B4%E8%AF%B4%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E4%B8%8E%E5%87%BD%E6%95%B0%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.6.</span> <span class="toc-text">6.说说存储过程与函数的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E4%BB%80%E4%B9%88%E5%8F%AB%E8%A7%86%E5%9B%BE%EF%BC%9F%E6%B8%B8%E6%A0%87%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">1.7.</span> <span class="toc-text">7.什么叫视图？游标是什么？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E8%A7%86%E5%9B%BE%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F"><span class="toc-number">1.8.</span> <span class="toc-text">8.视图的优缺点有哪些？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E8%AF%B4%E8%AF%B4drop%E3%80%81truncate%E3%80%81-delete%E5%8C%BA%E5%88%AB"><span class="toc-number">1.9.</span> <span class="toc-text">9.说说drop、truncate、 delete区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-%E4%BB%80%E4%B9%88%E6%98%AF%E4%B8%B4%E6%97%B6%E8%A1%A8%EF%BC%8C%E4%B8%B4%E6%97%B6%E8%A1%A8%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E5%88%A0%E9%99%A4"><span class="toc-number">1.10.</span> <span class="toc-text">10.什么是临时表，临时表什么时候删除?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-%E8%AF%B4%E8%AF%B4%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8C%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8C%BA%E5%88%AB%EF%BC%8C%E4%BC%98%E5%8A%BF%E6%AF%94%E8%BE%83"><span class="toc-number">1.11.</span> <span class="toc-text">11.说说非关系型数据库和关系型数据库区别，优势比较?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-%E4%BB%80%E4%B9%88%E6%98%AF%E6%95%B0%E6%8D%AE%E5%BA%93%E8%8C%83%E5%BC%8F%EF%BC%8C%E6%A0%B9%E6%8D%AE%E6%9F%90%E4%B8%AA%E5%9C%BA%E6%99%AF%E8%AE%BE%E8%AE%A1%E6%95%B0%E6%8D%AE%E8%A1%A8"><span class="toc-number">1.12.</span> <span class="toc-text">12.什么是数据库范式，根据某个场景设计数据表?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-%E4%BB%80%E4%B9%88%E6%98%AF-%E5%86%85%E8%BF%9E%E6%8E%A5%E3%80%81%E5%A4%96%E8%BF%9E%E6%8E%A5%E3%80%81%E4%BA%A4%E5%8F%89%E8%BF%9E%E6%8E%A5%E3%80%81%E7%AC%9B%E5%8D%A1%E5%B0%94%E7%A7%AF%E7%AD%89"><span class="toc-number">1.13.</span> <span class="toc-text">13.什么是 内连接、外连接、交叉连接、笛卡尔积等?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-varchar%E5%92%8Cchar%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">1.14.</span> <span class="toc-text">14.varchar和char的使用场景?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-SQL%E8%AF%AD%E8%A8%80%E5%88%86%E7%B1%BB"><span class="toc-number">1.15.</span> <span class="toc-text">15.SQL语言分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-%E8%AF%B4%E8%AF%B4like-%E5%92%8C-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.16.</span> <span class="toc-text">16.说说like %和-的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-%E8%AF%B4%E8%AF%B4count-%E3%80%81count-1-%E3%80%81count-column-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.17.</span> <span class="toc-text">17.说说count(*)、count(1)、count(column)的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#18-%E4%BB%80%E4%B9%88%E6%98%AF%E6%9C%80%E5%B7%A6%E5%89%8D%E7%BC%80%E5%8E%9F%E5%88%99%EF%BC%9F"><span class="toc-number">1.18.</span> <span class="toc-text">18.什么是最左前缀原则？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#19-%E4%BB%80%E4%B9%88%E6%98%AF%E7%B4%A2%E5%BC%95%EF%BC%9F"><span class="toc-number">1.19.</span> <span class="toc-text">19.什么是索引？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#20-%E7%B4%A2%E5%BC%95%E7%9A%84%E4%BD%9C%E7%94%A8%EF%BC%9F%E5%AE%83%E7%9A%84%E4%BC%98%E7%82%B9%E7%BC%BA%E7%82%B9%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">1.20.</span> <span class="toc-text">20.索引的作用？它的优点缺点是什么？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#21-%E7%B4%A2%E5%BC%95%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F"><span class="toc-number">1.21.</span> <span class="toc-text">21.索引的优缺点有哪些？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22-%E4%BB%80%E4%B9%88%E6%A0%B7%E7%9A%84%E5%AD%97%E6%AE%B5%E9%80%82%E5%90%88%E5%BB%BA%E7%B4%A2%E5%BC%95%EF%BC%9F"><span class="toc-number">1.22.</span> <span class="toc-text">22.什么样的字段适合建索引？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#23-%E8%AF%B4%E8%AF%B4%E8%81%9A%E9%9B%86%E7%B4%A2%E5%BC%95%E5%92%8C%E9%9D%9E%E8%81%9A%E9%9B%86%E7%B4%A2%E5%BC%95%E5%8C%BA%E5%88%AB"><span class="toc-number">1.23.</span> <span class="toc-text">23.说说聚集索引和非聚集索引区别?</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81SqlServer%E7%AC%94%E8%AF%95%E5%9F%BA%E7%A1%80%E7%AF%87"><span class="toc-number">2.</span> <span class="toc-text">二、SqlServer笔试基础篇</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%B1%82%E5%B9%B4%E9%BE%84%E5%A4%A7%E4%BA%8E%E6%89%80%E6%9C%89%E5%A5%B3%E5%90%8C%E5%AD%A6%E5%B9%B4%E9%BE%84%E7%9A%84%E7%94%B7%E5%AD%A6%E7%94%9F%E5%A7%93%E5%90%8D%E5%92%8C%E5%B9%B4%E9%BE%84%E3%80%82"><span class="toc-number">2.1.</span> <span class="toc-text">1.求年龄大于所有女同学年龄的男学生姓名和年龄。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%B1%82%E5%B9%B4%E9%BE%84%E5%A4%A7%E4%BA%8E%E5%A5%B3%E5%90%8C%E5%AD%A6%E5%B9%B3%E5%9D%87%E5%B9%B4%E9%BE%84%E7%9A%84%E7%94%B7%E5%AD%A6%E7%94%9F%E5%A7%93%E5%90%8D%E5%92%8C%E5%B9%B4%E9%BE%84%E3%80%82"><span class="toc-number">2.2.</span> <span class="toc-text">2.求年龄大于女同学平均年龄的男学生姓名和年龄。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%9C%A8-SC-%E4%B8%AD%E6%A3%80%E7%B4%A2%E6%88%90%E7%BB%A9%E4%B8%BA%E7%A9%BA%E5%80%BC%E7%9A%84%E5%AD%A6%E7%94%9F%E5%AD%A6%E5%8F%B7%E5%92%8C%E8%AF%BE%E7%A8%8B%E5%8F%B7%E3%80%82"><span class="toc-number">2.3.</span> <span class="toc-text">3.在 SC 中检索成绩为空值的学生学号和课程号。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%A3%80%E7%B4%A2%E5%A7%93%E5%90%8D%E4%BB%A5-WANG-%E6%89%93%E5%A4%B4%E7%9A%84%E6%89%80%E6%9C%89%E5%AD%A6%E7%94%9F%E7%9A%84%E5%A7%93%E5%90%8D%E5%92%8C%E5%B9%B4%E9%BE%84%E3%80%82"><span class="toc-number">2.4.</span> <span class="toc-text">4.检索姓名以 WANG 打头的所有学生的姓名和年龄。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E6%A3%80%E7%B4%A2%E5%AD%A6%E5%8F%B7%E6%AF%94-WANG-%E5%90%8C%E5%AD%A6%E5%A4%A7%EF%BC%8C%E8%80%8C%E5%B9%B4%E9%BE%84%E6%AF%94%E4%BB%96%E5%B0%8F%E7%9A%84%E5%AD%A6%E7%94%9F%E5%A7%93%E5%90%8D%E3%80%82"><span class="toc-number">2.5.</span> <span class="toc-text">5.检索学号比 WANG 同学大，而年龄比他小的学生姓名。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E7%BB%9F%E8%AE%A1%E6%AF%8F%E9%97%A8%E8%AF%BE%E7%A8%8B%E7%9A%84%E5%AD%A6%E7%94%9F%E9%80%89%E4%BF%AE%E4%BA%BA%E6%95%B0-%EF%BC%88%E8%B6%85%E8%BF%87-2-%E4%BA%BA%E7%9A%84%E8%AF%BE%E7%A8%8B%E6%89%8D%E7%BB%9F%E8%AE%A1%EF%BC%89-%E3%80%82%E8%A6%81%E6%B1%82-%E8%BE%93%E5%87%BA%E8%AF%BE%E7%A8%8B%E5%8F%B7%E5%92%8C%E9%80%89%E4%BF%AE%E4%BA%BA%E6%95%B0%EF%BC%8C%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E6%8C%89%E4%BA%BA%E6%95%B0%E9%99%8D%E5%BA%8F%E6%8E%92%E5%88%97%EF%BC%8C%E8%8B%A5%E4%BA%BA%E6%95%B0%E7%9B%B8%E5%90%8C%EF%BC%8C%E6%8C%89-%E8%AF%BE%E7%A8%8B%E5%8F%B7%E5%8D%87%E5%BA%8F%E6%8E%92%E5%88%97%E3%80%82"><span class="toc-number">2.6.</span> <span class="toc-text">6.统计每门课程的学生选修人数 （超过 2 人的课程才统计） 。要求 输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按 课程号升序排列。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E6%B1%82-LIU-%E8%80%81%E5%B8%88%E6%89%80%E6%8E%88%E8%AF%BE%E7%A8%8B%E7%9A%84%E6%AF%8F%E9%97%A8%E8%AF%BE%E7%A8%8B%E7%9A%84%E5%AD%A6%E7%94%9F%E5%B9%B3%E5%9D%87%E6%88%90%E7%BB%A9%E3%80%82"><span class="toc-number">2.7.</span> <span class="toc-text">7.求 LIU 老师所授课程的每门课程的学生平均成绩。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E6%B1%82%E9%80%89%E4%BF%AE-C4-%E8%AF%BE%E7%A8%8B%E7%9A%84%E5%AD%A6%E7%94%9F%E7%9A%84%E5%B9%B3%E5%9D%87%E5%B9%B4%E9%BE%84%E3%80%82"><span class="toc-number">2.8.</span> <span class="toc-text">8.求选修 C4 课程的学生的平均年龄。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9%EF%BC%8E%E7%BB%9F%E8%AE%A1%E6%9C%89%E5%AD%A6%E7%94%9F%E9%80%89%E4%BF%AE%E7%9A%84%E8%AF%BE%E7%A8%8B%E9%97%A8%E6%95%B0%E3%80%82"><span class="toc-number">2.9.</span> <span class="toc-text">9．统计有学生选修的课程门数。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-%E5%9C%A8%E5%9F%BA%E6%9C%AC%E8%A1%A8-SC-%E4%B8%AD%E4%BF%AE%E6%94%B9-4-%E5%8F%B7%E8%AF%BE%E7%A8%8B%E7%9A%84%E6%88%90%E7%BB%A9%EF%BC%8C%E8%8B%A5%E6%88%90%E7%BB%A9%E5%B0%8F%E4%BA%8E%E7%AD%89%E4%BA%8E-75-%E5%88%86%E6%97%B6%E6%8F%90-%E9%AB%98-5-%EF%BC%8C-%E8%8B%A5%E6%88%90%E7%BB%A9%E5%A4%A7%E4%BA%8E-75-%E5%88%86%E6%97%B6%E6%8F%90%E9%AB%98-4-%EF%BC%88%E7%94%A8%E4%B8%A4%E4%B8%AA-UPDATE-%E8%AF%AD%E5%8F%A5%E5%AE%9E-%E7%8E%B0%EF%BC%89%E3%80%82"><span class="toc-number">2.10.</span> <span class="toc-text">10.在基本表 SC 中修改 4 号课程的成绩，若成绩小于等于 75 分时提 高 5% ， 若成绩大于 75 分时提高 4% （用两个 UPDATE 语句实 现）。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-%E6%8A%8A%E4%BD%8E%E4%BA%8E%E6%80%BB%E5%B9%B3%E5%9D%87%E6%88%90%E7%BB%A9%E7%9A%84%E5%A5%B3%E5%90%8C%E5%AD%A6%E6%88%90%E7%BB%A9%E6%8F%90%E9%AB%98-5-%E3%80%82"><span class="toc-number">2.11.</span> <span class="toc-text">11 .把低于总平均成绩的女同学成绩提高 5% 。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-%E6%8A%8A%E9%80%89%E4%BF%AE%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86%E8%AF%BE%E4%B8%8D%E5%8F%8A%E6%A0%BC%E7%9A%84%E6%88%90%E7%BB%A9%E5%85%A8%E6%94%B9%E4%B8%BA%E7%A9%BA%E5%80%BC%E3%80%82"><span class="toc-number">2.12.</span> <span class="toc-text">12 .把选修数据库原理课不及格的成绩全改为空值。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13%EF%BC%8E%E6%8A%8AWANG-%E5%90%8C%E5%AD%A6%E7%9A%84%E5%AD%A6%E4%B9%A0%E9%80%89%E8%AF%BE%E5%92%8C%E6%88%90%E7%BB%A9%E5%85%A8%E9%83%A8%E5%88%A0%E5%8E%BB%E3%80%82"><span class="toc-number">2.13.</span> <span class="toc-text">13．把WANG 同学的学习选课和成绩全部删去。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-%EF%BC%8E%E5%9C%A8%E5%9F%BA%E6%9C%AC%E8%A1%A8-SC-%E4%B8%AD%E5%88%A0%E9%99%A4%E5%B0%9A%E6%97%A0%E6%88%90%E7%BB%A9%E7%9A%84%E9%80%89%E8%AF%BE%E5%85%83%E7%BB%84%E3%80%82"><span class="toc-number">2.14.</span> <span class="toc-text">14 ．在基本表 SC 中删除尚无成绩的选课元组。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-%EF%BC%8E%E5%BE%80%E5%9F%BA%E6%9C%AC%E8%A1%A8-S-%E4%B8%AD%E6%8F%92%E5%85%A5%E4%B8%80%E4%B8%AA%E5%AD%A6%E7%94%9F%E5%85%83%E7%BB%84%EF%BC%88-%E2%80%98-S9%E2%80%99%EF%BC%8C%E2%80%98-WU-%E2%80%99%EF%BC%8C18-%EF%BC%89%E3%80%82%E3%80%82"><span class="toc-number">2.15.</span> <span class="toc-text">15 ．往基本表 S 中插入一个学生元组（ ‘ S9’，‘ WU ’，18 ）。。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-%E4%BB%80%E4%B9%88%E6%98%AFSQL%E6%B3%A8%E5%85%A5%E5%BC%8F%E6%94%BB%E5%87%BB%EF%BC%9F"><span class="toc-number">2.16.</span> <span class="toc-text">16.什么是SQL注入式攻击？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81SqlServer%E7%AC%94%E8%AF%95%E9%AB%98%E7%BA%A7%E7%AF%87"><span class="toc-number">3.</span> <span class="toc-text">三、SqlServer笔试高级篇</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BB%80%E4%B9%88%E6%98%AF%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%EF%BC%9F"><span class="toc-number">3.1.</span> <span class="toc-text">1.什么是内存泄漏？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%BB%B4%E6%8A%A4%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%8C%E6%95%B4%E6%80%A7%E5%92%8C%E4%B8%80%E8%87%B4%E6%80%A7%EF%BC%8C%E4%BD%A0%E5%96%9C%E6%AC%A2%E7%94%A8%E8%A7%A6%E5%8F%91%E5%99%A8%E8%BF%98%E6%98%AF%E8%87%AA%E5%86%99%E4%B8%9A%E5%8A%A1%E9%80%BB-%E8%BE%91%EF%BC%9F%E4%B8%BA%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">3.2.</span> <span class="toc-text">2.维护数据库的完整性和一致性，你喜欢用触发器还是自写业务逻 辑？为什么？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E5%8A%A1%EF%BC%9F%E4%BB%80%E4%B9%88%E6%98%AF%E9%94%81%EF%BC%9F"><span class="toc-number">3.3.</span> <span class="toc-text">3.什么是事务？什么是锁？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%AF%B9%E4%B8%80%E4%B8%AA%E6%8A%95%E5%85%A5%E4%BD%BF%E7%94%A8%E7%9A%84%E5%9C%A8%E7%BA%BF%E4%BA%8B%E5%8A%A1%E5%A4%84%E7%90%86%E8%A1%A8%E6%A0%BC%E6%9C%89%E8%BF%87%E5%A4%9A%E7%B4%A2%E5%BC%95%E9%9C%80%E8%A6%81%E6%9C%89%E4%BB%80%E4%B9%88%E6%A0%B7%E7%9A%84%E6%80%A7-%E8%83%BD%E8%80%83%E8%99%91"><span class="toc-number">3.4.</span> <span class="toc-text">4.对一个投入使用的在线事务处理表格有过多索引需要有什么样的性 能考虑?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E4%BB%80%E4%B9%88%E6%98%AF%E7%9B%B8%E5%85%B3%E5%AD%90%E6%9F%A5%E8%AF%A2-%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E8%BF%99%E4%BA%9B%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.5.</span> <span class="toc-text">5.什么是相关子查询?如何使用这些查询?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E4%BB%80%E4%B9%88%E6%98%AFSQL%E6%B3%A8%E5%85%A5%E5%BC%8F%E6%94%BB%E5%87%BB%EF%BC%9F"><span class="toc-number">3.6.</span> <span class="toc-text">6.什么是SQL注入式攻击？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E5%A6%82%E4%BD%95%E9%98%B2%E8%8C%83SQL%E6%B3%A8%E5%85%A5%E5%BC%8F%E6%94%BB%E5%87%BB%EF%BC%9F"><span class="toc-number">3.7.</span> <span class="toc-text">7.如何防范SQL注入式攻击？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E4%BD%A0%E5%8F%AF%E4%BB%A5%E7%94%A8%E4%BB%80%E4%B9%88%E6%9D%A5%E7%A1%AE%E4%BF%9D%E8%A1%A8%E6%A0%BC%E9%87%8C%E7%9A%84%E5%AD%97%E6%AE%B5%E5%8F%AA%E6%8E%A5%E5%8F%97%E7%89%B9%E5%AE%9A%E8%8C%83%E5%9B%B4%E9%87%8C%E7%9A%84%E5%80%BC"><span class="toc-number">3.8.</span> <span class="toc-text">8.你可以用什么来确保表格里的字段只接受特定范围里的值?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E6%9C%89%E5%93%AA%E4%BA%9B%E6%93%8D%E4%BD%9C%E4%BC%9A%E4%BD%BF%E7%94%A8%E5%88%B0TempDB%EF%BC%9B%E5%A6%82%E6%9E%9CTempDB%E5%BC%82%E5%B8%B8%E5%8F%98%E5%A4%A7%EF%BC%8C%E5%8F%AF%E8%83%BD%E7%9A%84%E5%8E%9F-%E5%9B%A0%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%E8%AF%A5%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86%EF%BC%9B"><span class="toc-number">3.9.</span> <span class="toc-text">9.有哪些操作会使用到TempDB；如果TempDB异常变大，可能的原 因是什么，该如何处理；</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-Index%E6%9C%89%E5%93%AA%E4%BA%9B%E7%B1%BB%E5%9E%8B%EF%BC%8C%E5%AE%83%E4%BB%AC%E7%9A%84%E5%8C%BA%E5%88%AB%E5%92%8C%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%E7%B4%A2%E5%BC%95%E6%9C%89%E5%95%A5%E4%BC%98%E7%82%B9-%E5%92%8C%E7%BC%BA%E7%82%B9%EF%BC%9B%E5%A6%82%E4%BD%95%E4%B8%BASQL%E8%AF%AD%E5%8F%A5%E5%88%9B%E5%BB%BA%E5%90%88%E9%80%82%E7%9A%84%E7%B4%A2%E5%BC%95%EF%BC%8C%E7%B4%A2%E5%BC%95%E5%88%9B%E5%BB%BA%E6%97%B6%E6%9C%89%E5%93%AA%E4%BA%9B%E9%9C%80%E8%A6%81-%E6%B3%A8-%E6%84%8F%E7%9A%84%E9%A1%B9%EF%BC%8C%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BD%A0%E5%88%9B%E5%BB%BA%E7%9A%84%E7%B4%A2%E5%BC%95%E6%98%AF%E5%90%A6%E8%A2%AB%E4%BD%BF%E7%94%A8%EF%BC%9B%E5%A6%82%E4%BD%95%E7%BB%B4%E6%8A%A4%E7%B4%A2%E5%BC%95%EF%BC%9B%E7%B4%A2%E5%BC%95%E6%8D%9F-%E5%9D%8F%E5%A6%82%E4%BD%95%E6%A3%80%E6%9F%A5%EF%BC%8C%E6%80%8E%E4%B9%88%E4%BF%AE%E5%A4%8D%EF%BC%9BT-SQL%E6%9C%89%E6%9B%B4%E5%A5%BD%E7%9A%84%E7%B4%A2%E5%BC%95%E5%AD%98%E5%9C%A8%EF%BC%8C%E4%BD%86%E6%98%AF%E8%BF%90%E8%A1%8C-%E6%97%B6%E5%B9%B6%E6%B2%A1-%E6%9C%89%E4%BD%BF%E7%94%A8%E8%AF%A5%E7%B4%A2%E5%BC%95%EF%BC%8C%E5%8E%9F%E5%9B%A0%E5%8F%AF%E8%83%BD%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9B"><span class="toc-number">3.10.</span> <span class="toc-text">10.Index有哪些类型，它们的区别和实现原理是什么，索引有啥优点 和缺点；如何为SQL语句创建合适的索引，索引创建时有哪些需要,注 意的项，如何查看你创建的索引是否被使用；如何维护索引；索引损 坏如何检查，怎么修复；T-SQL有更好的索引存在，但是运行,时并没 有使用该索引，原因可能是什么；</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-Job%E4%BF%A1%E6%81%AF%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E5%93%AA%E4%BA%9B%E8%A1%A8%E8%8E%B7%E5%8F%96%EF%BC%9B%E7%B3%BB%E7%BB%9F%E6%AD%A3%E5%9C%A8%E8%BF%90%E8%A1%8C%E7%9A%84%E8%AF%AD%E5%8F%A5%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87-%E5%93%AA%E4%BA%9B%E8%A7%86%E5%9B%BE%E8%8E%B7%E5%8F%96%EF%BC%9B%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E6%9F%90%E4%B8%AAT-SQL%E8%AF%AD%E5%8F%A5%E7%9A%84IO%E3%80%81Time%E7%AD%89%E4%BF%A1%E6%81%AF%EF%BC%9B"><span class="toc-number">3.11.</span> <span class="toc-text">11.Job信息我们可以通过哪些表获取；系统正在运行的语句可以通过 哪些视图获取；如何获取某个T-SQL语句的IO、Time等信息；</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/03/09/Avalonia%E9%9A%90%E8%97%8F%E6%A0%87%E9%A2%98%E6%A0%8F/" title="No title">No title</a><time datetime="2023-03-09T09:23:19.257Z" title="Created 2023-03-09 17:23:19">2023-03-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/05/28/%E8%BF%87%E6%97%A9%E7%9A%84%E7%BB%99%E6%96%B9%E6%B3%95%E4%B8%AD%20%E5%BC%95%E7%94%A8%E5%AF%B9%E8%B1%A1%20%E8%AE%BE%E4%B8%BA%20null%20%E5%8F%AF%E8%A2%AB%20GC%E6%8F%90%E5%89%8D%E5%9B%9E%E6%94%B6%E5%90%97%EF%BC%9F-%E8%BF%87%E6%97%A9%E7%9A%84%E7%BB%99%E6%96%B9%E6%B3%95%E4%B8%AD%E5%BC%95%E7%94%A8%E5%AF%B9%E8%B1%A1%E8%AE%BE%E4%B8%BAnull%E5%8F%AF%E8%A2%ABgc%E6%8F%90%E5%89%8D%E5%9B%9E%E6%94%B6%E5%90%97/" title="过早的给方法中 引用对象 设为 null 可被 GC提前回收吗？">过早的给方法中 引用对象 设为 null 可被 GC提前回收吗？</a><time datetime="2022-05-28T02:21:34.813Z" title="Created 2022-05-28 10:21:34">2022-05-28</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/05/28/Git%20%E4%B8%8D%E8%A6%81%E5%8F%AA%E4%BC%9A%20pull%20%E5%92%8C%20push%EF%BC%8C%E8%AF%95%E8%AF%95%E7%94%A8%E8%BF%99%E4%BA%9B%E5%91%BD%E4%BB%A4%E6%9D%A5%E6%8F%90%E9%AB%98%E6%95%88%E7%8E%87-git%E4%B8%8D%E8%A6%81%E5%8F%AA%E4%BC%9Apull%E5%92%8Cpush%E8%AF%95%E8%AF%95%E7%94%A8%E8%BF%99%E4%BA%9B%E5%91%BD%E4%BB%A4%E6%9D%A5%E6%8F%90%E9%AB%98%E6%95%88%E7%8E%87/" title="Git 不要只会 pull 和 push，试试用这些命令来提高效率">Git 不要只会 pull 和 push，试试用这些命令来提高效率</a><time datetime="2022-05-28T01:46:29.995Z" title="Created 2022-05-28 09:46:29">2022-05-28</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/03/11/ClickHouse%E7%AE%80%E4%BB%8B-clickhouse%E7%AE%80%E4%BB%8B/" title="ClickHouse简介">ClickHouse简介</a><time datetime="2022-03-11T11:44:49.861Z" title="Created 2022-03-11 19:44:49">2022-03-11</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/03/04/%E5%8F%91%E5%B8%83.netcore%E9%A1%B9%E7%9B%AE%E5%88%B0linux-fa-bu-netcore-xiang-mu-dao-linux/" title="发布.netcore项目到linux">发布.netcore项目到linux</a><time datetime="2022-03-04T08:51:41.169Z" title="Created 2022-03-04 16:51:41">2022-03-04</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2023 By LiPan</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn"><span>蜀ICP备20005513号-1</span></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'IfFLPWezWyHXgKQbu4uDyqP0-gzGzoHsz',
      appKey: 'kzm58JKFshQUbSJ8uDXle255',
      avatar: 'monsterid',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>